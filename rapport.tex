\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage{mathtools}
\usepackage{graphicx} 
\usepackage{hyperref}
\usepackage{float}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
}
\urlstyle{same}

\title{Rapport projet PFA 2018-2019}
\date{\today}
\author{Lam NGUYEN THIET
\and Kenyu KOBAYASHI}
\begin{document}
\maketitle
\section{Introduction}
Ce projet implémente un jeu dans le langage OCAML, en utilisant les fonctionalités fonctionelles ( en majorité ), impératives, orientée objet.

\section{Le jeu}
\subsection{But}
Le but du jeu est de détruire les factions ennemies. Pour se faire, il suffit de tuer toutes leur unités.

\subsection{Factions}
Il y a 3 factions dans le jeu. Les cagoulés, les vert et les bleus. Vous contrôlez les bleus.

\subsection{Unités}
Il existe deux types d'unités.

\begin{itemize}
    \item Le soldat est l'unité de base. Elle peut se déplacer, attaquer et récupérer des items.
    \item La ville permet de faire apparaître des soldats. Cette unité est très importante car si on la perd, on ne peut plus produire de soldat.
\end{itemize}

\subsection{Items}
Il existe deux items.

\begin{itemize}
    \item Le pack de soin régénére la vie des unités. Il est possible d'avoir plus de points de vie que l'on avait au départ.
    \item La bombe nucléaire détruit tout dans un rayon de 3 cases.
\end{itemize}

\subsection{Plateau du jeu}
Le plateau est une grille d'hexagone. La carte est une île deserte dans l'océan avec des biômes variés.

\subsubsection{Type de cases}
Il y a 3 types de cases. A l'heure actuelle, elle ne sont que cosmétiques, par la suite elle peuvent avoir un impact sur l'efficacité de combat de tel unité de
tel faction, mais par manque de temps je n'ai pas pu les faire.

Il y a la neige, le desert et l'herbe.

\subsubsection{Caractèristiques du terrain}
En plus du biome, il y a des caractèristiques sur le terrain pour chaque case.

\begin{itemize}
    \item Les forêts et les collines coûtent plus cher pour le movement.
    \item Les montagnes et les lacs sont des obstacles ne peuvent pas être traversés.
\end{itemize}

\subsection{Tour par tour}
Le jeu se déroule en tour par tour, similaire au jeu \textit{Civilization}. C'est d'ailleurs
sur quoi je me suis inspiré pour le jeu.

\subsubsection{Mouvement}

Chaque unité a un nombre de movement. Lorsqu'il se déplace d'une case, il consomme $n$ points selon la case sur laquelle il atterit.
Dans le jeu, les soldats sont les seuls à pouvoir se déplacer. Les villes ne peuvent pas.

\subsubsection{Attaque}
Pour tuer les autres unités il faut les attaquer. Encore une fois de manière analogue à \textit{Civilization},
les unités disposent d'une force d'attaque et d'une force de défense.

Par la suite, $src$ et $dst$ représente respectivement l'unité qui attaque et l'unité
qui défend.

Lorsque deux unités s'attaquent, les nouveaux point de vie se calculent de cette manière : 

\begin{align}
    healthpoints_{dst,new} &= max \{0,healthpoints_{dst,old} - strength_{attack,src}\} \\
    healthpoints_{src,new} &= max \{0,healthpoints_{src,old} - strength_{defense,dst}\}
\end{align}

Et leurs nouvelles positions : 
\begin{align}
     x_{dst,new},y_{dst,new} &=
     \begin{cases}
        \texttt{null},\texttt{null} & \text{si } healthpoints_{dst_,new} = 0 \text{,}\\
        x_{dst,old},y_{dst,old} & \text{sinon.} 
     \end{cases} \\
     x_{src,new},y_{src,new} &=
     \begin{cases}
        \texttt{null},\texttt{null} & \text{si } healthpoints_{src,new} = 0 \text{,}\\
        x_{dst,old},y_{dst,old} & \text{si } healthpoints_{dst_,new} = 0 \text{,}\\
        x_{src,old},y_{src,old} & \text{sinon.} 
     \end{cases}
\end{align}

\section{Répartition du travail}
\subsection{NGUYEN THIET}
\begin{itemize}
    \item Gestion des appels à la bibliothéque SDL ( \textit{e.g.,} gestion du render, chargement des textures, initialisation
    du windows, \textit{etc.} )
    \item Dessins (tuiles, caractèristiques de terrain, soldats, ville, interfaces, fond d'écran, titre, items, effets spéciaux)
    \item Boucle principale. Gestion d'un type \texttt{context}, comment le mettre à jour et comment récupérer informations contenus pour avancer le jeu dans le temps
    \item Définition du type des \texttt{unités} et les méthodes associées
    \item Implémentation du plateau de jeu et la grille d'héxagone. (Les pseudocodes se trouvent ici \url{https://www.redblobgames.com/grids/hexagons/})
\end{itemize}

\subsection{KOBAYASHI}
\begin{itemize}
    \item Calcul des PV et mise à jour du plateau pendant les attaques 
    \item Réglages de la taille de la carte dans le menu
    \item Fond d'écran des réglages (juste le dégradé)
\end{itemize}

\end{document}


